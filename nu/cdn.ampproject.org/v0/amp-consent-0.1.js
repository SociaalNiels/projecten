(self.AMP=self.AMP||[]).push({n:"amp-consent",v:"2102200206005",m:0,f:(function(AMP,_){
'use strict';var l,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function ba(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object");})()}ba(this);"function"===typeof Symbol&&Symbol("x");var ca;
if("function"==typeof Object.setPrototypeOf)ca=Object.setPrototypeOf;else{var da;a:{var ea={a:!0},fa={};try{fa.__proto__=ea;da=fa.a;break a}catch(a){}da=!1}ca=da?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ha=ca,ia;function n(){return ia?ia:ia=Promise.resolve(void 0)};var ja={TCF_V1:1,TCF_V2:2,US_PRIVACY_STRING:3};function q(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function r(a,b){var c=b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(d){return c}};var ka=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function t(a){var b=Object.create(null);if(!a)return b;for(var c;c=ka.exec(a);){var d=r(c[1],c[1]);c=c[2]?r(c[2].replace(/\+/g," "),c[2]):"";b[d]=c}return b};var la="";var ma=Object.prototype.toString;function u(a){return"[object Object]"===ma.call(a)}function na(a){return"number"===typeof a&&isFinite(a)}function v(a,b){for(var c in a)if(a[c]===b)return!0;return!1};var w=self.AMP_CONFIG||{},oa=("string"==typeof w.cdnProxyRegex?new RegExp(w.cdnProxyRegex):w.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function pa(a){if(!self.document||!self.document.head||self.location&&oa.test(self.location.origin))return null;var b=self.document.head.querySelector('meta[name="'+a+'"]');return b&&b.getAttribute("content")||null}
var qa={thirdParty:w.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:w.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof w.thirdPartyFrameRegex?new RegExp(w.thirdPartyFrameRegex):w.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:w.cdnUrl||pa("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:oa,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:w.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:w.betaErrorReportingUrl||
"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:w.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:w.geoApiUrl||pa("amp-geo-api")};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var x=self.__AMP_LOG;function y(a){x.user||(x.user=ra());var b=x.user.win;return a&&a.ownerDocument.defaultView!=b?x.userForEmbed?x.userForEmbed:x.userForEmbed=ra():x.user}function ra(){throw Error("failed to call initLogConstructor");}function z(){if(x.dev)return x.dev;throw Error("failed to call initLogConstructor");}function A(a,b,c,d,e){return y().assert(a,b,c,d,e,void 0,void 0,void 0,void 0,void 0,void 0)};var B;function sa(a){try{var b=a.ownerDocument,c=b.createElement("div"),d=b.createElement("div");c.appendChild(d);return c.querySelector(":scope div")===d}catch(e){return!1}};var C=Object.prototype.hasOwnProperty;function D(a){var b=Object.create(null);a&&Object.assign(b,a);return b}function E(a){return a||{}}
function ta(a,b){var c=[],d=[];d.push({t:a,s:b,d:0});for(b={};0<d.length;){var e=d.shift();b.N=e.t;b.J=e.s;b.la=e.d;if(c.includes(b.J))throw Error("Source object has a circular reference.");c.push(b.J);b.N!==b.J&&(1<b.la?Object.assign(b.N,b.J):Object.keys(b.J).forEach(function(f){return function(g){var h=f.J[g];if(C.call(f.N,g)){var k=f.N[g];if(u(h)&&u(k)){d.push({t:k,s:h,d:f.la+1});return}}f.N[g]=h}}(b)));b={J:b.J,N:b.N,la:b.la}}return a};function ua(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c};function va(a,b){a.insertBefore(b,a.firstChild)}function wa(a,b){for(;a&&void 0!==a;a=a.parentElement)if(b(a))return a;return null}function xa(a){return a.closest?a.closest(".i-amphtml-fie"):wa(a,function(b){var c=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector;return c?c.call(b,".i-amphtml-fie"):!1})}function ya(a){/^[\w-]+$/.test("placeholder");return a.querySelector("placeholder")}
function za(a,b){a.classList.add("i-amphtml-scoped");var c=b.replace(/^|,/g,"$&.i-amphtml-scoped "),d=a.querySelectorAll(c);a.classList.remove("i-amphtml-scoped");return d}function Aa(a){try{a.focus()}catch(b){}}function Ba(a){a=a.tagName;return a.startsWith("AMP-")&&!("AMP-STICKY-AD-TOP-PADDING"==a||"AMP-BODY"==a)}function Ca(a){Ba(a);if(a.createdCallback)return Promise.resolve(a);if(!a.__AMP_UPG_PRM){var b=new q;a.__AMP_UPG_PRM=b.promise;a.__AMP_UPG_RES=b.resolve}return a.__AMP_UPG_PRM};function Da(a,b){if(!isFinite(5))throw Error("Invalid depth: 5");if(a===b)return!0;for(a=[{a:a,b:b,depth:5}];0<a.length;){var c=a.shift();b=c.a;var d=c.b;c=c.depth;if(0<c){if(typeof b!==typeof d)return!1;if(Array.isArray(b)&&Array.isArray(d)){if(b.length!==d.length)return!1;for(var e=0;e<b.length;e++)a.push({a:b[e],b:d[e],depth:c-1});continue}else if(b&&d&&"object"===typeof b&&"object"===typeof d){var f=Object.keys(b),g=Object.keys(d);if(f.length!==g.length)return!1;for(e=0;e<f.length;e++){var h=
f[e];a.push({a:b[h],b:d[h],depth:c-1})}continue}}if(b!==d)return!1}return!0};var Ea={ACCEPTED:1,REJECTED:2,DISMISSED:3,NOT_REQUIRED:4,UNKNOWN:5},Fa={GET_TC_DATA:"getTCData",PING:"ping",ADD_EVENT_LISTENER:"addEventListener",REMOVE_EVENT_LISTENER:"removeEventListener"};function F(a){return a?C.call(a,"isDirty")&&1==a.isDirty?!0:!1:!1}function Ga(a){return 1==a?!0:2==a?!1:null}
function Ha(a,b,c){if(!a&&!b)return!0;if(a&&b){var d=Ga(a.consentState)===Ga(b.consentState),e=(a.consentString||"")===(b.consentString||"");var f=c?!!a.isDirty===!!c:!!a.isDirty===!!b.isDirty;var g=Da(a.consentMetadata,b.consentMetadata);return d&&e&&g&&f}return!1}function G(a,b,c,d){return{consentState:a,consentString:b,consentMetadata:c,isDirty:d}}function Ia(a,b,c,d){return{consentStringType:a,additionalConsent:b,gdprApplies:c,purposeOne:d}}
function Ja(a){return!0===a||1===a?1:!1===a||0===a?2:5}function Ka(a){return a.consentString?!0:1===a.consentState||2===a.consentState}function H(a){return 1===a?"accepted":2===a?"rejected":"unknown"};var La={appconsent:{consentInstanceId:"appconsent",checkConsentHref:"https://collector.appconsent.io/amp/check-consent",promptUISrc:"https://cdn.appconsent.io/loader.html"},ConsentManager:{consentInstanceId:"ConsentManager",checkConsentHref:"https://consentmanager.mgr.consensu.org/delivery/ampcheck.php",promptUISrc:"https://consentmanager.mgr.consensu.org/delivery/ampui.php"},didomi:{consentInstanceId:"didomi",checkConsentHref:"https://api.privacy-center.org/amp/check-consent",promptUISrc:"https://sdk-amp.privacy-center.org/loader.html"},
iubenda:{consentInstanceId:"iubenda",checkConsentHref:"https://amp.iubenda.com/checkConsent",promptUISrc:"https://www.iubenda.com/en/help/22135-cookie-solution-amp"},sirdata:{consentInstanceId:"sirdata",checkConsentHref:"https://sddan.mgr.consensu.org/api/v1/public/amp/check",promptUISrc:"https://ui.sddan.mgr.consensu.org/amp.html"},Marfeel:{consentInstanceId:"Marfeel",checkConsentHref:"https://live.mrf.io/cmp/consents/amp",promptUISrc:"https://marfeel.mgr.consensu.org/amp/index.html"},Ogury:{consentInstanceId:"Ogury",
checkConsentHref:"https://api.ogury.mgr.consensu.org/v1/check-for-consent",promptUISrc:"https://www.ogury.mgr.consensu.org/amp.html"},onetrust:{consentInstanceId:"onetrust",checkConsentHref:"https://cdn.cookielaw.org/amp/consent/check",promptUISrc:" https://amp.onetrust.mgr.consensu.org/"},opencmp:{consentInstanceId:"opencmp",checkConsentHref:"https://amp.opencmp.net/consent/check",promptUISrc:"https://cdn.opencmp.net/tcf-v2/amp/cmp.html"},pubtech:{consentInstanceId:"pubtech",checkConsentHref:"https://amp.pubtech.it/cmp-amp-check-consent",
promptUISrc:"https://cdn.pubtech.ai/amp/index.html"},quantcast:{consentInstanceId:"quantcast",checkConsentHref:"https://apis.quantcast.mgr.consensu.org/amp/check-consent",promptUISrc:"https://quantcast.mgr.consensu.org/tcfv2/amp.html"},SourcePoint:{consentInstanceId:"SourcePoint",checkConsentHref:"https://sourcepoint.mgr.consensu.org/consent/v2/amp",promptUISrc:"https://amp.pm.sourcepoint.mgr.consensu.org/"},UniConsent:{consentInstanceId:"UniConsent",checkConsentHref:"https://edge.uniconsent.com/amp/check-consent",
promptUISrc:"https://cmp.uniconsent.com/amp/index.html"},Usercentrics:{consentInstanceId:"Usercentrics",checkConsentHref:"https://consents.usercentrics.eu/amp/checkConsent",promptUISrc:"https://amp.usercentrics.eu/amp.html"},LiveRamp:{consentInstanceId:"LiveRamp",checkConsentHref:"https://api.privacymanager.io/amp/check-consent",promptUISrc:"https://amp-consent-tool.privacymanager.io/1/index.html"}};function I(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return J(a,b)}function K(a,b){var c=L(a);c=M(c);return J(c,b)}function Ma(a,b){a=L(a);a=M(a);return Na(a,b)?J(a,b):null}function N(a,b){a=M(a);var c=Oa(a,b);c?b=c:(a=Pa(a),a[b]=Qa(),b=a[b].promise);return b}function L(a){return a.nodeType?I((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function M(a){a=L(a);return a.isSingleDoc()?a.win:a}
function J(a,b){Na(a,b);a=Pa(a)[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function Oa(a,b){var c=Pa(a)[b];if(c){if(c.promise)return c.promise;J(a,b);return c.promise=Promise.resolve(c.obj)}return null}function Pa(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}function Na(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)}
function Qa(){var a=new q,b=a.promise,c=a.resolve;a=a.reject;b.catch(function(){});return{obj:null,promise:b,resolve:c,reject:a,context:null,ctor:null}};function Ra(a){var b=Oa(M(a),"geo");if(b)return b;var c=L(a);return c.waitForBodyOpen().then(function(){var d=c.win;var e=c.win.document.head;if(e){var f={};e=e.querySelectorAll("script[custom-element],script[custom-template]");for(var g=0;g<e.length;g++){var h=e[g];h=h.getAttribute("custom-element")||h.getAttribute("custom-template");f[h]=!0}f=Object.keys(f)}else f=[];return f.includes("amp-geo")?I(d,"extensions").waitForExtension(d,"amp-geo"):n()}).then(function(){return Oa(M(a),"geo")})};var Sa={promptUI:!0,checkConsentHref:!0,promptIfUnknownForGeoGroup:!0,onUpdateHref:!0},Ta={CLIENT_ID:!0,PAGE_VIEW_ID:!0,PAGE_VIEW_ID_64:!0};function Ua(a){this.M=a;this.Fa=this.ea=null}Ua.prototype.getConsentConfigPromise=function(){this.Fa||(this.Fa=Va(this));return this.Fa};Ua.prototype.getMatchedGeoGroup=function(){return this.ea};
function Wa(a){if(!a.consents)return a;var b=Object.keys(a.consents);A(1>=b.length,"%s: only single consent instance is supported","amp-consent/consent-config");if(0<b.length){a.consentInstanceId=b[0];for(var c=a.consents[b[0]],d=Object.keys(c),e=0;e<d.length;e++){var f=d[e];!a[f]&&Sa[f]&&(a[d[e]]=c[d[e]])}}delete a.consents;return a}
function Va(a){var b=Wa(A(Xa(a),"%s: Inline config not found")),c=Ya(a),d=ta(c||{},b||{});A(d.consentInstanceId,"%s: consentInstanceId to store consent info is required","amp-consent/consent-config");if(d.policy)for(var e=Object.keys(d.policy),f=0;f<e.length;f++)"default"!=e[f]&&(y().warn("amp-consent/consent-config","policy %s is currently not supported and will be ignored",e[f]),delete d.policy[e[f]]);var g=d.promptIfUnknownForGeoGroup;"string"===typeof g?(d.consentRequired=!1,e={},d.geoOverride=
(e[g]={consentRequired:!0},e)):void 0===d.consentRequired&&d.checkConsentHref&&(d.consentRequired="remote");return Za(a,d).then(function(h){var k=h.consentRequired;A("boolean"===typeof k||"remote"===k,"`consentRequired` is required","amp-consent/consent-config");"remote"===k&&A(h.checkConsentHref,"%s: `checkConsentHref` must be specified if `consentRequired` is remote","amp-consent/consent-config");return h}).then(function(h){var k=a.M;/^[\w-]+$/.test("amp-story-consent");(void 0!==B?B:B=sa(k))?k=
k.querySelector("> amp-story-consent".replace(/^|,/g,"$&:scope ")):(k=za(k,"> amp-story-consent"),k=void 0===k[0]?null:k[0]);k&&A(!h.promptUISrc,"%s: `promptUiSrc` cannot be specified while using %s.","amp-consent/consent-config","amp-story-consent");return h})}
function Za(a,b){return b.geoOverride?Ra(a.M).then(function(c){A(c,"%s: requires <amp-geo> to use `geoOverride`","amp-consent/consent-config");for(var d=D(b),e=Object.keys(b.geoOverride),f=0;f<e.length;f++)if(2===c.isInCountryGroup(e[f])){var g=b.geoOverride[e[f]];C.call(g,"consentInstanceId")&&(y().error("amp-consent/consent-config","consentInstanceId cannot be overriden in geoGroup:",e[f]),delete g.consentInstanceId);ta(d,g);a.ea=e[f];break}delete d.geoOverride;return d}):Promise.resolve(b)}
function Xa(a){try{var b=a.M;/^[\w-]+$/.test("script");var c=(void 0!==B?B:B=sa(b))?b.querySelectorAll("> script".replace(/^|,/g,"$&:scope ")):za(b,"> script");if(1!==c.length)throw Error("Found "+c.length+" <script> children. Expected 1.");var d=c[0];if("SCRIPT"!=d.tagName||!d.hasAttribute("type")||"APPLICATION/JSON"!=d.getAttribute("type").toUpperCase())throw Error('<script> child must have type="application/json"');try{var e=JSON.parse(d.textContent)}catch(f){throw Error("Failed to parse <script> contents. Is it valid JSON?");
}return e}catch(f){throw y(a.M).createError("amp-consent/consent-config",f);}}function Ya(a){a=a.M.getAttribute("type");if(!a)return null;A(La[a],"%s: invalid CMP type %s","amp-consent/consent-config",a);var b=La[a];a=["consentInstanceId","checkConsentHref","promptUISrc"];for(var c=0;c<a.length;c++);return b}function $a(a,b){return Ma(a,"url-replace").expandUrlAsync(b,{CLIENT_ID:ab(a)},Ta)}
function ab(a){return N(a,"cid").then(function(b){return b.get({scope:"AMP-CONSENT",createCookieIfNotPresent:!0},n())})}function bb(a,b){var c={};c[b]=void 0;var d={waitFor:c},e=[4,1,2,3],f={waitFor:c,timeout:{seconds:0,fallbackAction:"reject"},unblockOn:e};a._till_responded={waitFor:c,unblockOn:e};a._till_accepted=d;a._auto_reject=f;if(a&&a["default"])return a;a["default"]=d;return a};function cb(){this.F=null}l=cb.prototype;l.add=function(a){var b=this;this.F||(this.F=[]);this.F.push(a);return function(){b.remove(a)}};l.remove=function(a){this.F&&(a=this.F.indexOf(a),-1<a&&this.F.splice(a,1))};l.removeAll=function(){this.F&&(this.F.length=0)};l.fire=function(a){if(this.F)for(var b=this.F,c=0;c<b.length;c++)(0,b[c])(a)};l.getHandlerCount=function(){return this.F?this.F.length:0};var db={"default":!0,_till_responded:!0,_till_accepted:!0,_auto_reject:!0};function eb(a){this.B=a;this.U=D();this.P=D();this.Za=N(this.B,"consentStateManager");this.bb=new q;var b=new q;this.sb=b.promise;this.Ja=b.resolve;this.cb=new cb;this.Ca=this.oa=this.qa=this.I=this.ab=null}l=eb.prototype;l.setLegacyConsentInstanceId=function(a){this.ab=a;this.O()};
l.registerConsentPolicyInstance=function(a,b){var c=this;if(!this.P[a]){var d=Object.keys(b.waitFor||{});if(1!==d.length||d[0]!==this.ab)y().error("consent-policy-manager","invalid waitFor value, consent policy will never resolve");else{var e=new fb(b);this.P[a]=e;this.U[a]&&(this.U[a].resolve(),this.U[a]=null);this.sb.then(function(){c.I&&e.evaluate(c.I);c.cb.add(function(f){e.evaluate(f)});c.bb.promise.then(function(){e.startTimeout(c.B.win)})})}}};
l.O=function(){var a=this;this.Za.then(function(b){b.whenConsentReady().then(function(){b.onConsentStateChange(function(c){var d=c.consentState,e=c.consentMetadata,f=a.qa,g=a.oa;a.qa=c.consentString;a.oa=e;5!==d&&(4==d?1!=a.I&&2!=a.I&&(a.I=4):3==d?(null===a.I&&(a.I=5),a.qa=f,a.oa=g):a.I=d,a.cb.fire(a.I),a.Ca&&a.Ca());a.Ja&&(a.Ja(),a.Ja=null)})})})};l.enableTimeout=function(){this.bb.resolve()};l.setOnPolicyChange=function(a){this.Ca||(this.Ca=a)};
l.whenPolicyResolved=function(a){var b=this;return db[a]?gb(this,a).then(function(){return b.P[a].getReadyPromise().then(function(){return b.P[a].getCurrentPolicyStatus()})}):(y().error("consent-policy-manager","can not find policy %s, only predefined policies are supported",a),Promise.resolve(4))};
l.whenPolicyUnblock=function(a){var b=this;return db[a]?gb(this,a).then(function(){return b.P[a].getReadyPromise().then(function(){return b.P[a].shouldUnblock()})}):(y().error("consent-policy-manager","can not find policy %s, only predefined policies are supported",a),Promise.resolve(!1))};l.getMergedSharedData=function(a){var b=this;return this.whenPolicyResolved(a).then(function(){return b.Za}).then(function(c){return c.getConsentInstanceSharedData()})};
l.getConsentStringInfo=function(a){var b=this;return this.whenPolicyResolved(a).then(function(){return b.qa})};l.getConsentMetadataInfo=function(a){var b=this;return this.whenPolicyResolved(a).then(function(){return b.oa})};function gb(a,b){if(a.P[b])return n();a.U[b]||(a.U[b]=new q);return a.U[b].promise}function fb(a){this.Y=a;var b=new q;this.vb=b.promise;this.za=b.resolve;this.Wa=4;this.xb=a.unblockOn||[1,3]}l=fb.prototype;
l.startTimeout=function(a){var b=this,c=this.Y.timeout,d=null,e;void 0!=c&&(u(c)?(c.fallbackAction&&"reject"==c.fallbackAction?e=2:c.fallbackAction&&"dismiss"!=c.fallbackAction&&y().error("consent-policy-manager","unsupported fallbackAction %s",c.fallbackAction),d=c.seconds):d=c,A(na(d),"invalid timeout value %s",d));null!=d&&a.setTimeout(function(){e=e||5;b.evaluate(e,!0)},1E3*d)};
l.evaluate=function(a,b){b=void 0===b?!1:b;!a||b&&!this.za||(this.Wa=1===a?1:2===a?2:4===a?3:4,this.za&&(this.za(),this.za=null))};l.getReadyPromise=function(){return this.vb};l.getCurrentPolicyStatus=function(){return this.Wa};l.shouldUnblock=function(){return-1<this.xb.indexOf(this.Wa)};function O(){this.qb=100;this.Da=this.Va=0;this.na=Object.create(null)}O.prototype.has=function(a){return!!this.na[a]};O.prototype.get=function(a){var b=this.na[a];if(b)return b.access=++this.Da,b.payload};O.prototype.put=function(a,b){this.has(a)||this.Va++;this.na[a]={payload:b,access:this.Da};if(!(this.Va<=this.qb)){z().warn("lru-cache","Trimming LRU cache");a=this.na;var c=this.Da+1,d;for(d in a){var e=a[d].access;if(e<c){c=e;var f=d}}void 0!==f&&(delete a[f],this.Va--)}};var hb=E({c:!0,v:!0,a:!0,ad:!0}),ib,jb,kb=/[?&]amp_js[^&]*/,lb=/[?&]amp_gsa[^&]*/,mb=/[?&]amp_r[^&]*/,nb=/[?&]amp_kit[^&]*/,ob=/[?&]usqp[^&]*/;
function P(a){ib||(ib=self.document.createElement("a"),jb=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new O));var b=jb,c=ib;if(b&&b.has(a))a=b.get(a);else{c.href=a;c.protocol||(c.href=c.href);var d={href:c.href,protocol:c.protocol,host:c.host,hostname:c.hostname,port:"0"==c.port?"":c.port,pathname:c.pathname,search:c.search,hash:c.hash,origin:null};"/"!==d.pathname[0]&&(d.pathname="/"+d.pathname);if("http:"==d.protocol&&80==d.port||"https:"==d.protocol&&443==d.port)d.port="",d.host=d.hostname;d.origin=
c.origin&&"null"!=c.origin?c.origin:"data:"!=d.protocol&&d.host?d.protocol+"//"+d.host:d.href;b&&b.put(a,d);a=d}return a}function pb(a,b){var c=void 0===c?"source":c;A(null!=a,"%s %s must be available",b,c);var d=a;"string"==typeof d&&(d=P(d));d="https:"==d.protocol||"localhost"==d.hostname||"127.0.0.1"==d.hostname||ua(d.hostname,".localhost");A(d||/^(\/\/)/.test(a),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,c,a)}
function Q(a){"string"==typeof a&&(a=P(a));return qa.cdnProxyRegex.test(a.origin)}
function qb(a){"string"==typeof a&&(a=P(a));if(!Q(a))return a.href;var b=a.pathname.split("/");A(hb[b[1]],"Unknown path prefix in url %s",a.href);var c=b[2],d="s"==c?"https://"+decodeURIComponent(b[3]):"http://"+decodeURIComponent(c);A(0<d.indexOf("."),"Expected a . in origin %s",d);b.splice(1,"s"==c?3:2);b=d+b.join("/");d=(d=a.search)&&"?"!=d?(d=d.replace(kb,"").replace(lb,"").replace(mb,"").replace(nb,"").replace(ob,"").replace(/^[?&]/,""))?"?"+d:"":"";return b+d+(a.hash||"")}
function rb(a,b){"string"==typeof b&&(b=P(b));if("function"==typeof URL)var c=(new URL(a,b.href)).toString();else{c=a;var d=b;"string"==typeof d&&(d=P(d));c=c.replace(/\\/g,"/");var e=P(c);c=c.toLowerCase().startsWith(e.protocol)?e.href:c.startsWith("//")?d.protocol+c:c.startsWith("/")?d.origin+c:d.origin+d.pathname.replace(/\/[^/]*$/,"/")+c}return c};function sb(a){this.B=a;this.ya=this.pa=this.Ha=this.Ga=this.G=this.gb=null}l=sb.prototype;l.registerConsentInstance=function(a,b){this.G?z().error("CONSENT-STATE-MANAGER","Cannot register consent instance %s, instance %s has already been registered.",a,this.gb):(this.gb=a,this.G=new R(this.B,a,b),this.pa&&(this.pa(),this.pa=null))};l.updateConsentInstanceState=function(a,b,c){this.G?(this.G.update(a,b,c,!1),this.Ga&&this.Ga(G(a,b,c))):z().error("CONSENT-STATE-MANAGER","instance not registered")};
l.updateConsentInstancePurposes=function(a,b){var c=this,d=b=void 0===b?!1:b;this.ya||(this.ya={});Object.keys(a).forEach(function(e){d&&C.call(c.ya,e)||(c.ya[e]=a[e]?1:2)})};l.getLastConsentInstanceInfo=function(){return this.G.get()};l.getConsentInstanceInfo=function(){return this.G.get().then(function(a){return F(a)?G(5):a})};l.onConsentStateChange=function(a){this.Ga=a;this.getConsentInstanceInfo().then(function(b){a(b)})};l.setConsentInstanceSharedData=function(a){this.G.sharedDataPromise=a};
l.setDirtyBit=function(){this.G.setDirtyBit()};l.getConsentInstanceSharedData=function(){return this.G.sharedDataPromise};l.whenConsentReady=function(){if(this.G)return n();if(!this.Ha){var a=new q;this.Ha=a.promise;this.pa=a.resolve}return this.Ha};l.Db=function(){return this.G.ja};
function R(a,b,c){this.B=a;this.tb=b;this.sharedDataPromise=null;a=L(a);var d=I(a.win,"ampdoc");d=d.isSingleDoc()?d.getSingleDoc():null;this.mb=N(d&&d.win==a.win?d:a,"storage");this.ja=this.A=null;this.X="amp-consent:"+b;(this.ua=c.onUpdateHref||null)&&pb(this.ua,"AMP-CONSENT");this.La=void 0}R.prototype.setDirtyBit=function(){var a=this;this.La=!0;return this.get().then(function(b){F(b)||a.update(b.consentState,b.consentString,b.consentMetadata,!0)})};
R.prototype.update=function(a,b,c,d){var e=a;var f=this.A&&this.A.consentState;v(Ea,e)||(e=5);e=3==e?f||5:4==e&&f&&5!=f?f:e;if(3===a)this.A=G(e,this.A&&this.A.consentString,this.A&&this.A.consentMetadata);else{a=this.A;d&&F(a)?this.A=G(e,b,c,!0):this.A=G(e,b,c);var g=G(e,b,c,this.La);Ha(g,this.ja)||tb(this,g)}};
function tb(a,b){a.mb.then(function(c){if(Ha(b,a.A,a.La))if(5===b.consentState)c.remove(a.X);else{a:{var d=D();var e=b.consentState;if(1==e)d.s=1;else if(2==e)d.s=0;else{d=null;break a}b.consentString&&(d.r=b.consentString);!0===b.isDirty&&(d.d=1);if(b.consentMetadata){e=b.consentMetadata;var f=D();e.consentStringType&&(f.cst=e.consentStringType);e.additionalConsent&&(f.ac=e.additionalConsent);void 0!=e.gdprApplies&&(f.ga=e.gdprApplies);void 0!=e.purposeOne&&(f.po=e.purposeOne);d.m=f}d=0==Object.keys(d)?
null:d}if(null!=d){e={};if(1200<JSON.stringify(E((e[a.X]=d,e))).length){if(c.isViewerStorage()){y().error("CONSENT-STATE-MANAGER","Cannot store consent information which length exceeds %s. Previous stored consentInfo will be cleared",1200);c.remove(a.X);return}y().info("CONSENT-STATE-MANAGER","Current consent information length exceeds %s and will not be stored when the page is served from a viewer that supports the Local Storage API.",1200)}a.ja=b;c.setNonBoolean(a.X,d);ub(a,b)}}})}
R.prototype.get=function(){var a=this;if(this.A)return Promise.resolve(this.A);var b;return this.mb.then(function(c){b=c;return b.get(a.X)}).then(function(c){if(a.A)return a.A;if(void 0===c)var d=G(5,void 0,void 0,void 0);else if("boolean"===typeof c)d=Ja(c),d=G(d);else{if(!u(c))throw z().createError("Invalid stored consent value");d=Ja(c.s);var e=c.r;var f=(f=c.m)?Ia(f.cst,f.ac,f.ga,f.po):Ia();d=G(d,e,f,c.d&&1===c.d)}a.ja=d;F(d)&&(ub(a,G(5)),b.remove(a.X),a.ja=null);a.A=d;return a.A}).catch(function(c){z().error("CONSENT-STATE-MANAGER",
"Failed to read storage",c);return G(5)})};
function ub(a,b){if(a.ua&&!F(b)){var c=Ga(b.consentState);ab(a.B).then(function(d){var e={consentInstanceId:a.tb,ampUserId:d};null!=c&&(e.consentState=c);e.consentStateValue=H(b.consentState);b.consentString&&(e.consentString=b.consentString);b.consentMetadata&&(e.consentMetadata=b.consentMetadata);var f={credentials:"include",method:"POST",body:e,ampCors:!1};a.B.whenFirstVisible().then(function(){$a(a.B.getHeadNode(),a.ua).then(function(g){I(a.B.win,"xhr").fetchJson(g,f)})})})}};var S;var T,vb="Webkit webkit Moz moz ms O o".split(" ");function wb(a,b,c){if(b.startsWith("--"))return b;T||(T=D());var d=T[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var f=0;f<vb.length;f++){var g=vb[f]+e;if(void 0!==a[g]){e=g;break a}}e=""}var h=e;void 0!==a[h]&&(d=h)}c||(T[b]=d)}return d}function xb(a,b,c){(b=wb(a.style,b,void 0))&&(b.startsWith("--")?a.style.setProperty(b,c):a.style[b]=c)}
function U(a,b){void 0===b&&(b=a.hasAttribute("hidden"));b?a.removeAttribute("hidden"):a.setAttribute("hidden","")};var yb=['<svg viewBox="0 0 40 40"><defs><linearGradient id=grad><stop stop-color="rgb(105, 105, 105)"></stop><stop offset=100% stop-color="rgb(105, 105, 105)" stop-opacity=0></stop></linearGradient></defs><path d="M11,4.4 A18,18, 0,1,0, 38,20" stroke=url(#grad)></path></svg>'];
function zb(a,b,c){this.C=a;this.sa=this.Pa=this.Qa=this.ba=this.Oa=!1;this.h=null;this.va=b.uiConfig&&!0===b.uiConfig.overlay;this.rb=b.captions&&b.captions.consentPromptCaption||"User Consent Prompt";this.pb=b.captions&&b.captions.buttonActionCaption||"Focus Prompt";this.lb=!1;this.W=!0;this.aa=this.Ba=this.da=null;this.B=a.getAmpDoc();this.ka=K(this.B,"viewport");this.ob=K(this.B,"viewer");this.j=a.element;this.D=a.win;this.S=this.D.document;this.Ma=null;this.Ua=!1;this.ha=this.$a=null;this.T=
"30vh";this.Ea=!0;this.Na=this.H=!1;this.ma=this.Ka.bind(this);this.Ta=null;this.O(b,c)}l=zb.prototype;
l.O=function(a,b){if(b){var c=this.B.getElementById(b);c||y().error("amp-consent-ui","postPromptUI element with id=%s not found",b);this.h=c;this.ba=!0}else{var d=a.promptUI,e=a.promptUISrc;if(d){var f=this.B.getElementById(d);f&&this.j.contains(f)||y().error("amp-consent-ui","child element of <amp-consent> with promptUI id %s not found",d);this.h=f}else if(e){this.Oa=!0;pb(e,this.j);this.Ta=$a(this.j,e);b=this.j.ownerDocument.createElement("iframe");var g=["allow-scripts","allow-popups"],h=Ma(this.j,
"url"),k=h.parse(e);h=h.parse(this.B.getUrl());k.origin!=h.origin&&g.push("allow-same-origin");b.setAttribute("sandbox",g.join(" "));b.classList.add("i-amphtml-consent-ui-fill");this.h=b;b=this.j.ownerDocument.createElement("placeholder");U(b,!1);b.classList.add("i-amphtml-consent-ui-placeholder");g=b.ownerDocument||b;S&&S.ownerDocument===g||(S=g.createElement("div"));g=S;g.innerHTML=yb[0];k=g.firstElementChild;g.removeChild(k);b.appendChild(k);this.ha=b;this.$a=a.clientConfig||null}}};
l.show=function(a){var b=this;if(this.h)if(this.ba&&!this.j.contains(this.h))U(this.h,!0);else{U(this.j,!0);var c=this.j.classList;c.add("amp-active");c.remove("amp-hidden");this.C.getViewport().addToFixedLayer(this.j);if(this.Oa&&this.Ta)this.Na=a,Ab(this).then(function(){b.C.mutateElement(function(){b.ba||(b.aa=b.S.activeElement);Bb(b);Cb(b);Db(b)})});else{var d=function(){b.h&&(U(b.h,!0),b.ba||(b.aa=b.S.activeElement,Bb(b),b.resume(),b.h.focus()))};Ba(this.h)?Ca(this.h).then(function(){return b.h.whenBuilt()}).then(function(){return d()}):
d()}this.Qa=!0}};l.hide=function(){var a=this;this.h&&(this.pause(),this.C.mutateElement(function(){a.Oa&&Eb(a);if(!a.ba){var b=a.j.classList;b.remove("amp-active");b.add("amp-hidden")}a.va&&(a.da&&U(a.da,!1),Fb(a));a.Ba&&(b=a.Ba,b.parentElement&&b.parentElement.removeChild(b),delete a.Ba);Fb(a);Gb(a);a.C.getViewport().removeFromFixedLayer(a.j);U(a.h,!1);a.Qa=!1;a.aa?(a.aa.focus(),a.aa=null):0<a.D.document.body.children.length&&a.D.document.body.children[0].focus()}))};
l.pause=function(){this.h&&K(this.C.element,"owners").schedulePause(this.C.element,this.h)};l.resume=function(){this.h&&(K(this.C.element,"owners").scheduleLayout(this.C.element,this.h),K(this.C.element,"owners").scheduleResume(this.C.element,this.h))};
function Hb(a,b){a.T="30vh";a.Ea=!0;a.H=!1;if(b.initialHeight)if("string"===typeof b.initialHeight&&0<=b.initialHeight.indexOf("vh")){var c=parseInt(b.initialHeight,10);a.T=80<=c?"80vh":a.T;10<=c&&80>=c?(a.T=c+"vh",a.H=60<c,a.va=a.H||a.va):y().error("amp-consent-ui","Inavlid initial height: "+b.initialHeight+".Minimum: 10vh. Maximum: 80vh.")}else y().error("amp-consent-ui","Inavlid initial height: "+b.initialHeight+'.Must be a string in "vh" units.');!1!==b.border||a.H||(a.Ea=!1);a.Ma.resolve()}
function Ib(a){return N(a.B,"consentStateManager").then(function(b){return b.getLastConsentInstanceInfo().then(function(c){return E({clientConfig:a.$a,consentState:H(c.consentState),consentStateValue:H(c.consentState),consentMetadata:c.consentMetadata,consentString:c.consentString,promptTrigger:a.Na?"action":"load",isDirty:!!c.isDirty})})})}
function Ab(a){a.Ma=new q;var b=a.j.classList;ya(a.j)||va(a.j,a.ha);b.add("i-amphtml-consent-ui-loading");U(a.h,!1);var c=a.Ta.then(function(d){a.Ua=!1;a.h.src=d;return Ib(a).then(function(e){a.h.setAttribute("name",JSON.stringify(e));a.D.addEventListener("message",a.ma);va(a.j,a.h)})});return Promise.all([c,a.Ma.promise,a.C.mutateElement(function(){U(a.ha,!0)})])}
function Db(a){var b=a.j.classList;b.add("i-amphtml-consent-ui-iframe-active");U(a.ha,!1);U(a.h,!0);a.H&&(b.add("i-amphtml-consent-ui-modal"),Aa(a.h));Gb(a);a.C.mutateElement(function(){b.remove("i-amphtml-consent-ui-loading");a.C.mutateElement(function(){b.add("i-amphtml-consent-ui-in");a.Pa=!0;var c=a.j.classList;if(a.h){var d=a.h,e={height:a.T},f;for(f in e)xb(d,f,e[f])}d={"--i-amphtml-modal-height":""+a.T};e=a.j.style;for(var g in d)e.setProperty(wb(e,g),d[g].toString(),"important");c.add("i-amphtml-consent-ui-iframe-transform");
(a.Ea||a.H)&&c.add("i-amphtml-consent-ui-border-enabled");a.H&&a.ka.enterLightboxMode()})})}
function Eb(a){var b=a.j.classList;b.remove("i-amphtml-consent-ui-iframe-active");b.remove("i-amphtml-consent-ui-modal");b.remove("i-amphtml-consent-ui-border-enabled");a.D.removeEventListener("message",a.ma);b.remove("i-amphtml-consent-ui-iframe-fullscreen");a.sa?a.ob.sendMessage("cancelFullOverlay",{},!0):a.H&&a.ka.leaveLightboxMode();a.sa=!1;b.remove("i-amphtml-consent-ui-in");a.Pa=!1;a.h.removeAttribute("name");U(a.ha,!1);a.Ua=!0;a.D.setTimeout(function(){if(a.Ua){var c=a.h;c.parentElement&&c.parentElement.removeChild(c)}},
1E3)}function Cb(a){if(!a.lb&&!a.H){var b=a.S.createElement("div"),c=a.S.createElement("button"),d=a.S.createElement("div");b.setAttribute("role","alertdialog");d.textContent=a.rb;c.textContent=a.pb;c.onclick=function(){Aa(a.h)};b.appendChild(d);b.appendChild(c);b.classList.add("i-amphtml-consent-alertdialog");a.C.element.appendChild(b);Aa(c);a.lb=!0;a.Ba=b}}function Gb(a){a=a.j;var b={transform:"",transition:""},c;for(c in b)xb(a,c,b[c])}
function Bb(a){if(a.va){if(!a.da){var b=a.D.document.createElement("div");b.classList.add("i-amphtml-consent-ui-mask");a.j.ownerDocument.body.appendChild(b);a.da=b}U(a.da,!0);a.W&&(a.ka.enterOverlayMode(),a.W=!1)}}function Fb(a){a.W||(a.ka.leaveOverlayMode(),a.W=!0)}
l.Ka=function(a){var b=this;if(this.h.contentWindow===a.source&&(a=a.data)&&"consent-ui"==a.type){var c=a.action,d=a.type;"ready"===c&&Hb(this,a);"enter-fullscreen"===c&&(!this.Pa||this.H||this.S.activeElement!==this.h&&!this.Na?(y().warn("amp-consent-ui","Could not enter fullscreen. Fullscreen is only supported when the iframe is visible as a bottom sheet and after user interaction."),Jb(this,d,c,!0)):(Jb(this,d,c),this.C.mutateElement(function(){b.h&&b.Qa&&!b.sa&&(Gb(b),b.ob.sendMessage("requestFullOverlay",
{},!0),b.j.classList.add("i-amphtml-consent-ui-iframe-fullscreen"),b.W&&(b.ka.enterOverlayMode(),b.W=!1),b.sa=!0)})))}};function Jb(a,b,c,d){var e=d=void 0===d?!1:d;(a=a.h.contentWindow)&&a.postMessage({type:"amp-consent-response",requestType:b,requestAction:c,state:e?"error":"success",info:e?"Could not enter fullscreen. Fullscreen is only supported when the iframe is visible as a bottom sheet and after user interaction.":"Entering fullscreen."},"*")};function Kb(a,b){try{var c=a.document.cookie}catch(h){c=""}var d=c;if(!d)return null;var e=d.split(";");for(a=0;a<e.length;a++){var f=e[a].trim(),g=f.indexOf("=");if(c=-1!=g)c=f.substring(0,g).trim(),c=r(c,void 0)==b;if(c)return b=f.substring(g+1).trim(),r(b,b)}return null}
function Lb(a,b,c,d,e,f,g){"ampproject.org"==e&&(c="delete",d=0);b=encodeURIComponent(b)+"="+encodeURIComponent(c)+"; path=/"+(e?"; domain="+e:"")+"; expires="+(new Date(d)).toUTCString()+(f?"; SameSite="+f:"")+(g?"; Secure":"");try{a.document.cookie=b}catch(h){}};function Mb(a){for(var b=new Uint8Array(a.length),c=0;c<a.length;c++){var d=a.charCodeAt(c);b[c]=d}return b};var Nb={"-":"+",_:"/",".":"="};function Ob(a){var b=atob(a.replace(/[-_.]/g,function(c){return Nb[c]}));return Mb(b)};function Pb(a){if(a.__AMP__EXPERIMENT_TOGGLES)return a.__AMP__EXPERIMENT_TOGGLES;a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);var b=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var c in a.AMP_CONFIG){var d=a.AMP_CONFIG[c];"number"===typeof d&&0<=d&&1>=d&&(b[c]=Math.random()<d)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length){var e=a.AMP_CONFIG["allow-doc-opt-in"],f=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]');
if(f){var g=f.getAttribute("content").split(",");for(c=0;c<g.length;c++)-1!=e.indexOf(g[c])&&(b[g[c]]=!0)}}c=Object;var h=c.assign,k="";try{"localStorage"in a&&(k=a.localStorage.getItem("amp-experiment-toggles"))}catch(Y){z().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}k=k?k.split(/\s*,\s*/g):[];for(var m=Object.create(null),p=0;p<k.length;p++)0!=k[p].length&&("-"==k[p][0]?m[k[p].substr(1)]=!1:m[k[p]]=!0);h.call(c,b,m);if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&
0<a.AMP_CONFIG["allow-url-opt-in"].length)for(c=a.AMP_CONFIG["allow-url-opt-in"],a=t(a.location.originalHash||a.location.hash),h=0;h<c.length;h++)k=a["e-"+c[h]],"1"==k&&(b[c[h]]=!0),"0"==k&&(b[c[h]]=!1);return b};var Qb=null;var Rb=/^[a-zA-Z0-9\-_.]+$/;function Sb(a){this.D=a;this.ca={}}
Sb.prototype.get=function(a,b){if(!a||!b)return y().error("amp-consent/linker-reader","LINKER_PARAM requires two params, name and id"),null;if(!C.call(this.ca,a)){var c=this.ca,d=t(this.D.location.search);if(C.call(d,a)){var e=d[a];d=e.split("*");var f=0==d.length%2;4>d.length||!f?(y().error("amp-analytics/linker","Invalid linker_param value "+e),d=null):(e=Number(d.shift()),1!==e?(y().error("amp-analytics/linker","Invalid version number "+e),d=null):(e=d.shift(),d=d.join("*"),d={checksum:e,serializedIds:d}));
if(e=d){d=e.serializedIds;b:{e=e.checksum;for(f=0;1>=f;f++){var g=d,h=f;var k=(new Date).getTimezoneOffset();var m=window;var p=m.navigator.userLanguage||m.navigator.language;m=window.navigator.userAgent;k=[m,k,p].join("*");h=h||0;h=Math.floor(Date.now()/6E4)-h;g=[k,h,g].join("*");if(!Qb){h=Array(256);for(k=0;256>k;k++){m=k;for(p=0;8>p;p++)m=m&1?m>>>1^3988292384:m>>>1;h[k]=m}Qb=h}g="undefined"!==typeof TextEncoder?(new TextEncoder("utf-8")).encode(g):Mb(unescape(encodeURIComponent(g)));h=4294967295;
for(k=0;k<g.length;k++)h=h>>>8^Qb[(h^g[k])&255];if(((h^-1)>>>0).toString(36)==e){e=!0;break b}}e=!1}if(e){e={};d=d.split("*");for(f=0;f<d.length;f+=2)if(g=d[f],Rb.test(g)){h=Ob(String(d[f+1]));if("undefined"!==typeof TextDecoder)h=(new TextDecoder("utf-8")).decode(h);else{h=new Uint8Array(h.buffer||h);k=Array(h.length);for(m=0;m<h.length;m++)k[m]=String.fromCharCode(h[m]);h=k.join("");h=decodeURIComponent(escape(h))}e[g]=h}else y().error("amp-analytics/linker","Invalid linker key "+g+", value ignored");
d=e}else y().error("amp-analytics/linker","LINKER_PARAM value checksum not valid"),d=null}else d=null}else d=null;c[a]=d}return this.ca[a]&&this.ca[a][b]?this.ca[a][b]:null};var Tb={referrerDomains:!0,enabled:!0,cookiePath:!0,cookieMaxAge:!0,cookieSecure:!0,cookieDomain:!0},Ub={LINKER_PARAM:!0};function Vb(a,b,c){this.D=a;this.M=b;this.Ya=null;this.Y=c;this.ub=new Sb(a)}Vb.prototype.write=function(){this.Ya||(this.Ya=this.O());return this.Ya};
Vb.prototype.O=function(){var a=this.M;if(!(a=a.classList.contains("i-amphtml-fie")||!!xa(a)||Q(this.D.location))){a=this.D||self;if(a.__AMP_MODE)a=a.__AMP_MODE;else{var b=t(a.location.originalHash||a.location.hash);var c=t(a.location.search);la||(la=a.AMP_CONFIG&&a.AMP_CONFIG.v?a.AMP_CONFIG.v:"012102200206005");b={localDev:!1,development:!!(0<=["1","actions","amp","amp4ads","amp4email"].indexOf(b.development)||a.AMP_DEV_MODE),examiner:"2"==b.development,esm:!1,geoOverride:b["amp-geo"],minified:!0,
lite:void 0!=c.amp_lite,test:!1,log:b.log,version:"2102200206005",rtvVersion:la};a=a.__AMP_MODE=b}a="inabox"==a.runtime}if(a||!C.call(this.Y,"cookies"))return n();if(!u(this.Y.cookies))return y().error("amp-consent/cookie-writer","cookies config must be an object"),n();var d=this.Y.cookies;if(!1===d.enabled)return n();C.call(d,"cookieMaxAge")?(a=Number(d.cookieMaxAge))||0===a?(0>=a&&y().warn("amp-consent/cookie-writer","cookieMaxAge %s less than or equal to 0, cookie will immediately expire",d.cookieMaxAge),
a*=1E3):(y().error("amp-consent/cookie-writer","invalid cookieMaxAge %s, falling back to default value (1 year)",d.cookieMaxAge),a=31536E6):a=31536E6;var e=a;a=Object.keys(d);b=[];for(c=0;c<a.length;c++){var f=a[c],g=d[f];var h=g;Tb[f]?h=!1:u(h)?C.call(h,"value")?h=!0:(y().error("amp-consent/cookie-writer","value is required in the cookieValue object"),h=!1):(y().error("amp-consent/cookie-writer","cookieValue must be configured in an object"),h=!1);h&&b.push(Wb(this,f,g.value,e))}return Promise.all(b)};
function Wb(a,b,c,d){return Ma(a.M,"url-replace").expandStringAsync(c,{LINKER_PARAM:function(e,f){return a.ub.get(e,f)}},Ub).then(function(e){if(e){var f=Date.now()+d,g=a.D,h={highestAvailableDomain:!0};h=void 0===h?{}:h;if(h.allowOnProxyOrigin)A(!h.highestAvailableDomain,"Could not support highestAvailable Domain on proxy origin, specify domain explicitly");else{A(!Q(g.location.href),"Should never attempt to set cookie on proxy origin: "+b);var k=P(g.location.href).hostname.toLowerCase(),m=P(qa.cdn).hostname.toLowerCase();
A(!(k==m||ua(k,"."+m)),"Should never attempt to set cookie on proxy origin. (in depth check): "+b)}k=void 0;if(h.domain)k=h.domain;else if(h.highestAvailableDomain)a:if(k=g.document.head&&g.document.head.querySelector("meta[name='amp-cookie-scope']"))k=k.getAttribute("content")||"",m=P(qb(g.location.href)).origin,k=ua(m,"."+k)?k:m.split("://")[1];else{if(!Q(g.location.href)){k=g.location.hostname.split(".");m=k[k.length-1];var p;for(p="-test-amp-cookie-tmp";Kb(g,p);)p="-test-amp-cookie-tmp0";for(var Y=
k.length-2;0<=Y;Y--)if(m=k[Y]+"."+m,Lb(g,p,"delete",Date.now()+1E3,m),"delete"==Kb(g,p)){Lb(g,p,"delete",Date.now()-1E3,m);k=m;break a}}k=null}Lb(g,b,e,f,k,h.sameSite,h.secure)}}).catch(function(e){y().error("amp-consent/cookie-writer","Error expanding cookie string",e)})};function V(){this.V=0;this.kb=n();this.ib=function(){};this.jb=function(){}}V.prototype.onQueueEmpty=function(a){this.ib=a;0==this.V&&a()};V.prototype.onQueueNotEmpty=function(a){this.jb=a;0<this.V&&a()};V.prototype.registerUI=function(a){var b=this;0==this.V&&this.jb();this.V++;var c=this.kb.then(function(){return a().then(function(){b.V--;0==b.V&&b.ib()})});return this.kb=c};function Xb(a){var b=this;this.wa=a;this.K=D();this.fb=null;this.Ra=0;a.setOnPolicyChange(function(){Yb(b)})}Xb.prototype.handleTcfCommand=function(a,b){if(Zb(a.__tcfapiCall)){var c=a.__tcfapiCall;switch(c.command){case "ping":$b(this,c,b);break;case "getTCData":ac(this,c,b);break;case "addEventListener":this.K[this.Ra]||(this.K[this.Ra]={payload:c,win:b},this.Ra++);break;case "removeEventListener":a=c.callId;c=c.parameter;var d=!!this.K[c];d&&delete this.K[c];bc(b,void 0,a,d)}}};
function Yb(a){Object.keys(a.K).length&&cc(a).then(function(b){var c=b[2];if(c&&c!==a.fb){a.fb=c;for(var d=Object.keys(a.K),e=0;e<d.length;e++){var f=Number(d[e]);if(C.call(a.K,f)){var g=a.K[f],h=g.win;g=g.payload.callId;var k=dc(b[0],b[1],c,f);bc(h,k,g,!0)}}}})}function cc(a){var b=a.wa.getConsentStringInfo("default"),c=a.wa.getConsentMetadataInfo("default");a=a.wa.getMergedSharedData("default");return Promise.all([c,a,b])}
function ac(a,b,c){cc(a).then(function(d){d=dc(d[0],d[1],d[2]);bc(c,d,b.callId,!0)})}function dc(a,b,c,d){var e=a?a.purposeOne:void 0,f=a?a.gdprApplies:void 0,g=Object.assign({},b,{additionalConsent:a?a.additionalConsent:void 0});return{tcfPolicyVersion:2,gdprApplies:f,tcString:c,listenerId:d,cmpStatus:"loaded",eventStatus:"tcloaded",purposeOneTreatment:e,additionalData:g}}function $b(a,b,c){a.wa.getConsentMetadataInfo("default").then(function(d){d=ec(d);bc(c,d,b.callId)})}
function ec(a){return{gdprApplies:a?a.gdprApplies:void 0,cmpLoaded:!0,cmpStatus:"loaded",tcfPolicyVersion:2}}function bc(a,b,c,d){a&&a.postMessage({__tcfapiReturn:{returnValue:b,callId:c,success:d}},"*")}
function Zb(a){if(!u(a))return y().error("amp-consent",'"tcfapiCall" is not an object: '+a),!1;var b=a.command,c=a.parameter;a=a.version;return v(Fa,b)?c&&"removeEventListener"!=b?(y().error("amp-consent",'Unsupported parameter found in "tcfapiCall": '+c),!1):2!==a?(y().error("amp-consent",'Found incorrect version in "tcfapiCall": '+a),!1):!0:(y().error("amp-consent",'Unsupported command found in "tcfapiCall": '+b),!1)}Xb.prototype.Bb=function(a){return ec(a)};
Xb.prototype.Cb=function(a,b,c,d){return dc(a,b,c,d)};var fc={ACCEPT:"accept",REJECT:"reject",DISMISS:"dismiss"};function W(a){a=AMP.BaseElement.call(this,a)||this;a.o=null;a.$=null;a.nb=null;a.fa=null;a.L=null;a.l=null;a.Sa=null;a.xa=null;a.ra=null;a.R=!1;a.eb=!1;a.Ia=!1;a.Xa=a.getVsync();a.Aa=null;a.Z=null;a.ea=null;a.hb=!!Pb(a.win)["tcf-post-message-proxy-api"];a.ta=!!Pb(a.win)["amp-consent-granular-consent"];a.ia=a.ta?null:n();a.ma=a.hb?a.Ka.bind(a):null;return a}var X=AMP.BaseElement;W.prototype=aa(X.prototype);W.prototype.constructor=W;
if(ha)ha(W,X);else for(var Z in X)if("prototype"!=Z)if(Object.defineProperties){var gc=Object.getOwnPropertyDescriptor(X,Z);gc&&Object.defineProperty(W,Z,gc)}else W[Z]=X[Z];W.Eb=X.prototype;l=W.prototype;l.getConsentPolicy=function(){return null};l.buildCallback=function(){var a=this;A(this.element.getAttribute("id"),"amp-consent should have an id");var b=new Ua(this.element);return b.getConsentConfigPromise().then(function(c){a.ea=b.getMatchedGeoGroup();hc(a,c)})};
l.pauseCallback=function(){this.L&&this.L.pause()};l.resumeCallback=function(){this.L&&this.L.resume()};
function hc(a,b){a.l=b;a.Z=a.l.consentInstanceId;a.l.postPromptUI&&(a.xa=new zb(a,E({}),a.l.postPromptUI));b=a.l.policy||E({});a.Sa=bb(b,a.Z);b=a.getRealChildren();for(var c=0;c<b.length;c++){var d=b[c];U(d,!1);K(a.element,"owners").setOwner(d,a.element)}var e=N(a.getAmpDoc(),"consentPolicyManager").then(function(k){a.$=k;a.$.setLegacyConsentInstanceId(a.Z);var m=Object.keys(a.Sa);for(k=0;k<m.length;k++)a.$.registerConsentPolicyInstance(m[k],a.Sa[m[k]])}),f=N(a.getAmpDoc(),"consentStateManager").then(function(k){k.registerConsentInstance(a.Z,
a.l);a.o=k}),g=N(a.getAmpDoc(),"notificationUIManager").then(function(k){a.fa=k}),h=a.l.cookies?(new Vb(a.win,a.element,a.l)).write():n();Promise.all([f,g,e,h]).then(function(){a.O()})}
function ic(a){a.registerAction("accept",function(b){jc(a,"accept",b)});a.registerAction("reject",function(b){jc(a,"reject",b)});a.registerAction("dismiss",function(){jc(a,"dismiss")});a.ta&&a.registerAction("setPurpose",function(b){b&&b.args?(b=b.args,kc(a)&&(lc(b),a.o.updateConsentInstancePurposes(b))):z().error("amp-consent","Must have arugments for `setPurpose`.")});a.registerAction("prompt",function(b){(b=b.args)&&!0===b.expireCache&&a.o.setDirtyBit();mc(a,!0)});nc(a)}
function jc(a,b,c){kc(a)&&oc(a,b,c).then(function(){pc(a,b)})}
function nc(a){a.win.addEventListener("message",function(b){if(a.R){var c=b.data;if(c&&"consent-response"==c.type)if(c.action){if(void 0!==c.info){"string"!=typeof c.info&&(y().error("amp-consent","consent-response info only supports string, %s, treated as undefined",c.info),c.info=void 0);"dismiss"===c.action&&(c.info&&a.user().error("amp-consent","Consent string value %s not applicable on user dismiss, stored value will be kept and used",c.info),c.info=void 0);var d=c.info;var e=qc(c.consentMetadata)}for(var f=
a.element.querySelectorAll("iframe"),g=0;g<f.length;g++)if(f[g].contentWindow===b.source){var h=c,k=h.action,m=h.purposeConsents;v(fc,k)&&kc(a)&&(m&&"dismiss"!==k&&(lc(m),a.o.updateConsentInstancePurposes(m)),pc(a,k,d,e))}}else y().error("amp-consent","consent-response message missing required info")}})}function mc(a,b){a.fa||z().error("amp-consent","notification ui manager not found");!a.Ia&&a.L&&(a.Ia=!0,a.fa.registerUI(a.wb.bind(a,b)))}
l.wb=function(a){var b=this;this.R&&z().error("amp-consent","Attempt to show an already displayed prompt UI");this.Xa.mutate(function(){b.L.show(a);b.R=!0});var c=new q;this.ra=c.resolve;return c.promise};function kc(a){return a.o?a.R:(z().error("amp-consent","No consent state manager"),!1)}
function pc(a,b,c,d){a.eb=!0;"accept"==b?a.o.updateConsentInstanceState(1,c,d):"reject"==b?a.o.updateConsentInstanceState(2,c,d):"dismiss"==b&&a.o.updateConsentInstanceState(3);a.R||z().error("amp-consent","%s no consent ui to hide");a.L.hide();a.R=!1;a.ra&&(a.ra(),a.ra=null);a.Ia=!1}
function oc(a,b,c){var d;return a.ta&&"boolean"===typeof(null==c?void 0:null==(d=c.args)?void 0:d.purposeConsentDefault)?"dismiss"===b?(z.warn("amp-consent","Dismiss cannot have a `purposeConsentDefault` parameter."),n()):rc(a).then(function(e){if(e&&e.length){var f={},g=c.args.purposeConsentDefault;e.forEach(function(h){f[h]=g});a.o.updateConsentInstancePurposes(f,!0)}}):n()}
l.O=function(){var a=this;sc(this);tc(this);uc(this);vc(this).then(function(b){return wc(a,b)}).then(function(b){b&&xc(a);a.$.enableTimeout()}).catch(function(){});ic(this)};function vc(a){return a.o.getConsentInstanceInfo().then(function(b){if(Ka(b))return Promise.resolve(!0);var c=a.l.consentRequired;return"boolean"===typeof c?Promise.resolve(c):yc(a).then(function(d){return d?void 0!==d.consentRequired?!!d.consentRequired:!!d.promptIfUnknown:!1})})}
function sc(a){var b=yc(a).then(function(c){return c&&void 0!==c.sharedData?c.sharedData:null});a.o.setConsentInstanceSharedData(b)}function tc(a){yc(a).then(function(b){if(b&&((b.expireCache||b.forcePromptOnNext)&&a.o.setDirtyBit(),b.consentRequired&&!a.eb)){var c=b.consentString||void 0,d=b.consentMetadata||void 0;b=b.consentStateValue;b="accepted"===b?1:"rejected"===b?2:"unknown"===b?5:null;null!==b&&a.o.updateConsentInstanceState(b,c,qc(d))}})}
function yc(a){if(a.Aa)return a.Aa;a.Aa=a.l.checkConsentHref?a.o.getLastConsentInstanceInfo().then(function(b){b={consentInstanceId:a.Z,consentStateValue:H(b.consentState),consentMetadata:b.consentMetadata,consentString:b.consentString,isDirty:!!b.isDirty,matchedGeoGroup:a.ea};a.l.clientConfig&&(b.clientConfig=a.l.clientConfig);var c={credentials:"include",method:"POST",body:b},d=a.l.checkConsentHref;pb(d,a.element);b=a.getAmpDoc();var e=qb(b.getUrl()),f=rb(d,e),g=I(a.win,"xhr");return b.whenFirstVisible().then(function(){return $a(a.element,
f).then(function(h){return g.fetchJson(h,c).then(function(k){return g.xssiJson(k,a.l.xssiPrefix).catch(function(m){y().error("amp-consent","Could not parse the `checkConsentHref` response.",m)})})})})}):Promise.resolve(null);return a.Aa}function zc(a){return a.ta?rc(a).then(function(){return!0}):Promise.resolve(!0)}
function rc(a){if(a.ia)return a.ia;var b=a.l.purposeConsentRequired;Array.isArray(b)?a.ia=Promise.resolve(b):a.ia=yc(a).then(function(c){return c&&Array.isArray(c.purposeConsentRequired)?c.purposeConsentRequired:null});return a.ia}function Ac(a){return a.o.getConsentInstanceInfo().then(function(b){return Ka(b)?zc(a):Promise.resolve(!1)})}function wc(a,b){a.L=new zb(a,a.l);return Ac(a).then(function(c){if(c)return!0;if(!b)return a.o.updateConsentInstanceState(4),!1;mc(a,!1);return!0})}
function xc(a){a.xa&&(a.fa.onQueueEmpty(function(){a.Xa.mutate(function(){a.xa.show(!1)})}),a.fa.onQueueNotEmpty(function(){a.Xa.mutate(function(){a.xa.hide()})}))}l.zb=function(){return this.o};l.yb=function(){return vc(this)};l.Ab=function(){return this.R};function lc(a){Object.keys(a).forEach(function(b){a[b]})}
function qc(a){if(a){if(u(a)){var b=a.consentStringType,c=a.additionalConsent,d=a.gdprApplies,e=a.purposeOne,f=[];b&&!v(ja,b)&&(delete a.consentStringType,f.push("consentStringType"));c&&"string"!=typeof c&&(delete a.additionalConsent,f.push("additionalConsent"));d&&"boolean"!=typeof d&&(delete a.gdprApplies,f.push("gdprApplies"));e&&"boolean"!=typeof e&&(delete a.purposeOne,f.push("purposeOne"));for(b=0;b<f.length;b++)y().error("amp-consent",'Consent metadata value "%s" is invalid.',f[b]);return Ia(a.consentStringType,
a.additionalConsent,a.gdprApplies,a.purposeOne)}y().error("amp-consent","CMP metadata is not an object.")}}function uc(a){if(a.hb&&a.l.exposesTcfApi&&!a.win.frames.__tcfapiLocator){a.nb=new Xb(a.$);a.win.addEventListener("message",a.ma);var b=a.element.ownerDocument.createElement("iframe");b.setAttribute("name","__tcfapiLocator");U(b,!1);b.setAttribute("aria-hidden",!0);a.element.appendChild(b)}}l.Ka=function(a){var b=a.data;b&&b.__tcfapiCall&&this.nb.handleTcfCommand(b,a.source)};
(function(a){a.registerElement("amp-consent",W,"amp-consent{position:fixed!important;bottom:0;left:0;overflow:hidden!important;background:hsla(0,0%,100%,0.7);width:100%;z-index:2147483645}amp-consent[i-amphtml-notbuilt]>*{display:none!important}amp-consent>*{max-height:100vh!important}amp-consent.amp-active{visibility:visible}amp-consent.amp-hidden{visibility:hidden}@keyframes amp-consent-ui-placeholder-spin{0%{transform:rotate(0deg)}to{transform:rotate(360deg)}}.i-amphtml-consent-ui-placeholder{width:100%;height:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.i-amphtml-consent-ui-placeholder>svg{width:30px;height:30px;fill:none;stroke-width:1.5px;transform-origin:50% 50%;animation:amp-consent-ui-placeholder-spin 1000ms linear infinite}.i-amphtml-consent-alertdialog{overflow:hidden;position:absolute;height:1px;width:1px;top:auto;left:auto}.i-amphtml-consent-ui-fill{position:absolute;top:0;left:0;width:100%}iframe.i-amphtml-consent-ui-fill{border:none}amp-consent.i-amphtml-consent-ui-iframe-active{width:100%!important;height:100%!important;padding:0px!important;margin:0px!important;overflow:auto!important;transform:translate3d(0px,100vh,0px)!important}amp-consent.i-amphtml-consent-ui-iframe-active.i-amphtml-consent-ui-modal{box-sizing:border-box;top:0;right:0;animation:i-amphtml-modal-appear 0.5s;animation-fill-mode:forwards;height:var(--i-amphtml-modal-height)!important;width:90vw!important;margin:auto!important;max-width:760px}amp-consent.i-amphtml-consent-ui-border-enabled{border-top-left-radius:8px!important;border-top-right-radius:8px!important;box-shadow:0 0 5px 0 rgba(0,0,0,0.2)!important}amp-consent.i-amphtml-consent-ui-modal.i-amphtml-consent-ui-border-enabled{border-radius:8px!important;box-shadow:0 0 5px 0 rgba(0,0,0,0.2)!important}amp-consent.i-amphtml-consent-ui-iframe-active.i-amphtml-consent-ui-iframe-transform{transform:translate3d(0px,calc(100% - var(--i-amphtml-modal-height)),0px)!important}amp-consent.i-amphtml-consent-ui-iframe-active.i-amphtml-consent-ui-in{transition:transform 0.5s ease-out!important}amp-consent.i-amphtml-consent-ui-iframe-active.i-amphtml-consent-ui-in.i-amphtml-consent-ui-iframe-fullscreen{top:0px!important;transform:translateZ(0px)!important;border-top-left-radius:0px!important;border-top-right-radius:0px!important}amp-consent.i-amphtml-consent-ui-in.i-amphtml-consent-ui-iframe-fullscreen>.i-amphtml-consent-ui-fill{height:100%!important}@keyframes i-amphtml-consent-ui-mask{0%{opacity:0.0}to{opacity:0.2}}@keyframes i-amphtml-modal-appear{0%{transform:translateY(100vh);opacity:0}to{transform:translate(0);opacity:1}}.i-amphtml-consent-ui-mask{position:fixed!important;top:0!important;left:0!important;width:100vw!important;height:100vh!important;opacity:0.2;animation:i-amphtml-consent-ui-mask 0.25s ease-in;background-image:none!important;background-color:#000;z-index:2147483644}\n/*# sourceURL=/extensions/amp-consent/0.1/amp-consent.css*/");
a.registerServiceForDoc("notificationUIManager",V);a.registerServiceForDoc("consentStateManager",sb);a.registerServiceForDoc("consentPolicyManager",eb)})(self.AMP);
})});

//# sourceMappingURL=amp-consent-0.1.js.map
